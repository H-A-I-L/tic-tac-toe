<!DOCTYPE html>
<html lang="en">
    <head>
	<title>Tic-tac-toe: ain't CS awesome</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

	<script>
	 function set_grid(grid, currentPlayer){
	     for(i = 0; i < grid.length; i++){
		 y = i%3;
		 x = Math.floor(i/3);
		 id = "#"+x+y;
		 if(grid[i]==1){
		     $(id).removeClass("btn-warning");
		     $(id).addClass("btn-success disabled");
		 }
		 if(grid[i]==2){
		     $(id).removeClass("btn-warning");
		     $(id).addClass("btn-danger disabled");
		 }
	     }
	 }
	 
	 var grid = [0,0,0,0,0,0,0,0,0]//[0,1,2,0,0,0,1,1,1];
	 var currentPlayer = 2;

	 function next_turn(grid, currentPlayer){
	     set_grid(grid, currentPlayer);
	     if(currentPlayer == 1){
		 currentPlayer = 2;
		 color = "btn-danger";
	     }else{
		 currentPlayer = 1;
		 color = "btn-success";
	     }
	     $("#message").empty();
	     $("#message").append("Turn: Player "+currentPlayer+" <div class='btn "+color+" disabled'></div>");
	     return grid, currentPlayer;
	 }

	 function click_cell(e){
	     if(!$(this).is(':disabled')){
		 elementes = this.id.split("");
		 x = parseInt(elementes[0]);
		 y = parseInt(elementes[1]);
		 idx = x*3 + y;
		 grid[idx] = currentPlayer;
		 grid, currentPlayer = next_turn(grid, currentPlayer);
	     }
	 }
	 
	 $(document).ready(function(){
	     $("td").addClass("btn btn-warning");
	     grid, currentPlayer = next_turn(grid, currentPlayer)
	     //$("td").addClass("btn-warning");
	     //$("td").addClass("btn-block");
	     
	     $("td").on("click",click_cell);
	 });
	</script>
	
	<style type="text/css" media="screen">
	 .table {
	     border-radius: 5px;
	     width: 302px;
	     margin: 0px auto;
	     float: none;
	 }
	 td {
	     height: 100px;
	     width: 100px;
	 }

	 .center-table
	 {
	     margin: 0 auto !important;
	     float: none !important;
	 }

	 #message{
	     height:28px;
	     margin:15px;
	 }
	</style>
    </head>
    <body>
	<div class="container-fluid" style="width:50%">
	    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		<div class="navbar-header">
		    <div class="navbar-brand">Tic-tac-toe</div>
		</div>
	    </nav>
	    
	    <div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 centered">
		    <div id="message" class="text-center"></div>
		</div>
	    </div>
	    <div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 centered">
		    <table class="table table-bordered centered-table">
			<tbody>
			    <tr>
				<td id="00">
				</td>
				<td id="01">
				</td>
				<td id="02">
				</td>
			    </tr>
			    <tr>
				<td id="10">
				</td>
				<td id="11">
				</td>
				<td id="12">
				</td>
			    </tr>
			    <tr>
				<td id="20">
				</td>
				<td id="21">
				</td>
				<td id="22">
				</td>
			    </tr>
			</tbody>
		    </table>
		</div>    
	    </div>
	</div>
    </body>
</html>
